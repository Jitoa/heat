# heat
塚原研伝熱コード

## ETIME
ETIME は(非標準の)経過 CPU 時間を取得するタイミング用サブルーチン．
CALL ETIME(WT1) で実行開始時の CPU 時間を WT1 に記録し，途中で WT2, WT3, 最後に WT4 を記録，最後に WRITE 文で (WT4-WT1) を計算して全体の経過 CPU 時間(秒)を表示．

## NN
NN は計算全体の「総合タイムステップ（グローバル時間ステップ）カウンタ」．最初に 0 に初期化され、時間を進める各ステップで NN=NN+1 される．
この値を使って10 ステップ毎の処理```IF (MOD(NN,10).EQ.0) …```<br>
500 ステップ毎の統計・平均処理```IF (MOD(NN,500).EQ.0) …```といった出力や統計更新のタイミング制御．

## NUM
速度場 (U,P 等) を時間積分した回数＝「速度を更新したステップ数」

## NCALC 
温度場 (スカラ場) を時間積分した回数＝「温度を更新したステップ数」

## NAVE
「時間平均（統計）サンプルの取得回数カウンタ」.<br>
初期化 (NAVE=0) 後、条件 IF (MOD(NN,500).EQ.0) に入ったとき NAVE=NAVE+1 され、そのタイミングで CALL AVE(NN) や CALL BUDGET など平均・統計更新が実行.

## AVETIM 
「速度場の時間平均に使う有効積算物理時間．<br>
平均量正規化: ```AVE``` や ```BUDGET``` 等のサブルーチン内部で，累積した瞬時値の積分（∑(量)·Δt）を```AVETIM``` で割って時間平均を求める分母になる．
収束/十分性判断: 出力行 (WRITE で TIME と並べて表示) を見て，どれだけ平均時間を蓄積したかを監視し，統計が安定したか判断．
再スタート管理: ```AVEOUT / AVEIN``` により途中から再開する際，既に蓄積した平均時間として保存/読込され，平均の継続性を保つ．

## CALTIM
温度場（スカラー場）に関する時間平均用の累積物理時間．速度場用 AVETIM と対になる「温度専用タイムカウンタ」．

## NSTCS
温度場の「周期的な詳細統計（secondary / short-time statistics）」を何回収集したかを数えるサンプル回数カウンタ．<br>
温度場の周期統計サンプル数インデックスで，500 ステップごとの``` STCS 系統計```を「第何回目か」管理するためのカウンタ

## STCSTM
温度場の「短周期／詳細統計 (STCS 系)」用に積み上げる物理経過時間．対応するカウンタ  ```NSTCS（サンプル回数） ```に対し， ```STCSTM ``` はその統計が覆う合計時間長を与える

## JA,JB,JC,JD,JE,JF,JH,JI,JJ,JK,JL
壁面法線方向 (y 方向) の格子インデックス（J 番号）の中から代表的な位置を選んで保持する “参照ポイント集合” 

